(() => {
  const imageURL = 'https://your-image-url.png'; // 🔁 Replace with your pixel art
  const overlay = document.createElement('img');
  overlay.src = imageURL;
  overlay.id = 'wplace-overlay';
  overlay.style = `
    position: fixed;
    top: 0; left: 0;
    transform-origin: top left;
    image-rendering: pixelated;
    pointer-events: auto;
    z-index: 9999;
    cursor: grab;
  `;
  document.body.appendChild(overlay);

  let scale = 1;
  let pos = { x: 0, y: 0 };
  let isDragging = false;
  let dragStart = { x: 0, y: 0 };

  // Zoom with wheel
  overlay.addEventListener('wheel', e => {
    e.preventDefault();
    const zoomFactor = 0.1;
    scale += (e.deltaY < 0 ? zoomFactor : -zoomFactor);
    scale = Math.max(0.1, scale);
    overlay.style.transform = `translate(${pos.x}px, ${pos.y}px) scale(${scale})`;
  });

  // Drag with mouse
  overlay.addEventListener('mousedown', e => {
    isDragging = true;
    dragStart.x = e.clientX - pos.x;
    dragStart.y = e.clientY - pos.y;
    overlay.style.cursor = 'grabbing';
  });

  window.addEventListener('mouseup', () => {
    isDragging = false;
    overlay.style.cursor = 'grab';
  });

  window.addEventListener('mousemove', e => {
    if (!isDragging) return;
    pos.x = e.clientX - dragStart.x;
    pos.y = e.clientY - dragStart.y;
    overlay.style.transform = `translate(${pos.x}px, ${pos.y}px) scale(${scale})`;
  });
})();
